# 约束与限制

为了保障集群的稳定及安全，AnalyticDB PostgreSQL版有以下约束和限制。

购买实例后，您不需要做数据库的基础运维（例如高可用、打安全补丁等），但您需要重点关注如下事项：

-   实例升级：实例升级的过程为只读状态，升级结束时会出现一次最长30秒左右的连接闪断。需要您提前做好准备，通过连接池等级制，设置好程序的自动重连。
-   故障切换：实例Master节点和Segment节点均采用主备HA架构，当主节点发生异常或者硬件故障时，会在30秒内切换到备节点。切换过程中有30秒左右的连接闪断，需要您提前做好准备，通过连接池等级制，设置好程序的自动重连。

|指标|限制|
|--|--|
|最大连接数|不同规格的实例最大连接数如下：-   2C16G：300
-   4C32G：300
-   16C128G：500 |
|最大字段的大小|最大1GB。|
|每个数据库的数据量|由实例规格容量决定。|
|每个表的数据量|每个分区每个segment最大128TB。|
|每行写入的数据量|大于1GB。|
|BLOB数据量|最大1GB。**说明：** AnalyticDB PostgreSQL版使用BYTEA数据类型代替BLOB。 |
|每个表的行数|最多2^48行。|
|每个表的列数|最多1600列。|
|每个数据库中的表数|最多42亿个。|
|每个视图中的列数|最多1664列。|
|列/表/数据库名称的长度|最多63个字符。|
|数据格式描述符的长度|最大63个字符。|
|对象名称的长度（包括数据库、用户、基表、视图、索引、触发器、存储过程、UDF、UDT、约束或列名）|最大63个字符。|
|每个主索引和二级索引的列数|最多32列。|
|单个Select中的列数|最多1664列。|

