# 设置白名单 {#concept_v4f_dmr_52b .concept}

在启用实例前，您必须先修改白名单。为保障数据库的安全稳定，请将需要访问数据库的 IP 地址或者 IP 段加入白名单。

## 背景信息 {#section_tcg_fpr_52b .section}

访问 HybridDB for PostgreSQL 数据库有如下三种场景：

-   外网访问 HybridDB for PostgreSQL 数据库。

-   内网访问 HybridDB for PostgreSQL 数据库。请确保 HybridDB for PostgreSQL 和 ECS 网络类型一致。

-   内外网同时访问 HybridDB for PostgreSQL 数据库。请确保 HybridDB for PostgreSQL 和 ECS 网络类型一致，并将访问模式设置为**高安全模式**。


**说明：** 关于设置网络类型，请参见[设置网络类型](cn.zh-CN/快速入门/配置实例/设置网络类型.md#)。

## 操作步骤 {#section_rhw_qpr_52b .section}

1.  登录[云数据库HybridDB for PostgreSQL管理控制台](https://gpdb.console.aliyun.com)。
2.  选择目标实例所在地域。
3.  单击目标实例的 ID， 进入实例**基本信息**页面。
4.  在实例菜单栏中，选择**数据安全性**，进入数据安全性页面。

5.  在白名单设置标签页中，单击 default 白名单分组后的**修改**，进入修改白名单分组页面。

    **说明：** 

    您也可以单击 default 白名单分组后的**清空**，删除默认分组中的白名单，然后单击**添加白名单分组**新建自定义分组。

6.  删除“组内白名单”中的默认白名单 127.0.0.1，然后填写自定义白名单。参数说明如下所示：
    -   **分组名称**：2~32 个字符，由小写字母、数字或下划线组成，开头需为小写字母，结尾需为字母或数字。默认分组不可修改，且不可删除。

    -   **组内白名单**：填写可以访问数据库的 IP 地址或者 IP 段，各 IP 地址或者 IP 段间用英文逗号分隔。

        -   白名单功能支持设置 IP 地址（如 10.10.10.1）或者 IP 段（如 10.10.10.0/24，表示 10.10.10.X 的 IP 地址都可以访问数据库）。

        -   % 或者 0.0.0.0/0 为允许任何 IP 访问。

            **说明：** 

            该设置将极大降低数据库安全性，如非必要请勿使用。

        -   新建实例设置了本地环回 IP 地址 127.0.0.1 为默认白名单，禁止任何外部 IP 访问本实例。

    -   **加载 ECS 内网 IP**：单击将显示同账号下的 ECS，可以快速添加 ECS 到白名单中。

7.  单击**确定**，添加白名单。

## 后续操作 {#section_cdg_fpr_52b .section}

正确使用白名单可以让 HybridDB for PostgreSQL 得到高级别的访问安全保护，建议您定期维护白名单。

后续操作中，您可以单击分组名称后的**修改**修改已有分组，或者单击**删除**删除已有的自定义分组。

