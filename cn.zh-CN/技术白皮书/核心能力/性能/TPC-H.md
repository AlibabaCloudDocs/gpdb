# TPC-H

TPC-H Benchmark是由国际事务处理性能委员会（Transaction Processing Performance Council）发布的数据库领域权威测试标准之一，是被工业界和学术界普遍认可的决策支持测试标准，也是数据库选型的重要参考指标之一。

经过严苛的大规模分析性能和ACID事务测试，AnalyticDB PostgreSQL版刷新TPC-H 30TB性能榜单，超越当前有效纪录成为全球第一，性能、性价比全球领先，成为中国首次荣登榜单的产品。

![tpc-h](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1743885161/p245229.png)

TPC-H Benchmark由商业分析行为Ad-hoc查询和并发数据修改行为组成，考验数据库的事务能力和分析能力。

本次测试的挑战主要有：

-   30TB大数据集：本次选用30TB数据集，最大表1800亿行，对数据的导入、存储、计算性能是巨大的挑战；
-   复杂关联分析：多表join、相关查询、数据多维过滤和高精度数值计算等，不仅对优化器是挑战（如何解相关、如何选择最优的join顺序、如何选择表的分发方式等），对计算引擎的实现也是挑战（内存的管理、代码生成、执行调度等）；
-   大批量实时写入：亿级数据写入和删除操作，考验事务处理的性能，也对AP系统必用的列存存储引擎发起巨大的挑战；
-   大吞吐并发读写：30TB数据集下至少10并发查询流（Query Stream），同时启动数据更新流（Refresh Stream）做多轮大批量数据增删操作，挑战系统并发能力及ACID能力；
-   分布式事务验证：全面测试数据库系统事务能力，涵盖Atomic、Consistency、Isolation和Durability测试（coordinator节点、计算节点关机测试），考验数据库系统的事务能力，以及在断电等极端情况下的系统高可用；复杂的测试流程：TPC-H 测试流程如下，测试中需要多次重启机器，对系统的综合能力、管控要求严格。

